"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[554],{28658:function(e,t,i){i.r(t),i.d(t,{_frontmatter:function(){return l},default:function(){return c}});var r=i(87462),n=i(63366),a=(i(15007),i(64983)),o=i(99536),d=["components"],l={},h={_frontmatter:l},s=o.Z;function c(e){var t=e.components,i=(0,n.Z)(e,d);return(0,a.mdx)(s,(0,r.Z)({},h,i,{components:t,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"authorization"},"Authorization"),(0,a.mdx)("h2",{id:"overview"},"Overview"),(0,a.mdx)("p",null,"This SDK follows a Proof Key for Code Exchange (PKCE) workflow for OAuth. This flow introduces a secret created by the calling application that can be verified by the authorization server (code verifier). The calling app generates a code challenge from the verifier and sends it to retrieve an authorization code. This flow is secure because even if the authorization code is somehow intercepted, it cannot be exchanged for an access token without the verifier. "),(0,a.mdx)("h2",{id:"register-oauth-credentials"},"Register OAuth Credentials"),(0,a.mdx)("p",null,"OAuth credentials are required when first creating an integration, but they can be modified later. In ",(0,a.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/console"},"Developer Console"),', navigate to the project you created. You can edit credentials by navigating to "Credentials" > "OAuth Single-Page App".'),(0,a.mdx)("p",null,"If you'd like to test the ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/cc-everywhere/tree/main/sample"},"sample"),", specify: "),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://127.0.0.1:8000/redirect.html"},"https://127.0.0.1:8000/redirect.html"),' in the "Default Redirect URI" field'),(0,a.mdx)("li",{parentName:"ul"},'https://localhost:8000/redirect.html in the "Redirect URI patterns" field')),(0,a.mdx)("p",null,"Integrations must be submitted with https redirect URIs to be approved for production, but http URIs are accepted ",(0,a.mdx)("strong",{parentName:"p"},"only"),' for testing localhost instances. Note that the "Default Redirect URI" field will still expect a https pattern in Console, but including the http URI in the "Redirect URI Patterns" field will be sufficient. IMS will check the "Redirect URI Pattern" field first. If there are no matches, it will default to the "Redirect URI". '),(0,a.mdx)("h2",{id:"flow"},"Flow"),(0,a.mdx)("p",null,"OAuth credentials are required when first creating an integration, but they can be modified later. In ",(0,a.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/console"},"Developer Console"),', navigate to the project you created. You can edit credentials by navigating to "Credentials" > "OAuth Single-Page App".'),(0,a.mdx)("p",null,"When the SDK is first initialized, the user is faced with the Adobe login prompt. "),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},"The SDK redirects the user to the Adobe IMS (Identity Management Service) server. Here a ",(0,a.mdx)("inlineCode",{parentName:"li"},"code_verifier")," is created and a ",(0,a.mdx)("inlineCode",{parentName:"li"},"code_challenge")," is generated from that. "),(0,a.mdx)("li",{parentName:"ul"},"The IMS server redirects the user to the authorization prompt. If the user accepts, the IMS server stores the ",(0,a.mdx)("inlineCode",{parentName:"li"},"code_challenge")," and redirects the user back to the application (the registered redirect URI(s)) with an authorization ",(0,a.mdx)("inlineCode",{parentName:"li"},"code")," which is good for one use. ")),(0,a.mdx)("h2",{id:"exchangeauthcodefortoken"},"exchangeAuthCodeForToken()"),(0,a.mdx)("p",null,"At your registered redirect URI, call the ",(0,a.mdx)("inlineCode",{parentName:"p"},"exchangeAuthCodeForToken()")," function. This sends the ",(0,a.mdx)("inlineCode",{parentName:"p"},"code")," and the ",(0,a.mdx)("inlineCode",{parentName:"p"},"code_verifier")," to the IMS server. ",(0,a.mdx)("strong",{parentName:"p"},"If verified"),", the IMS server responds with an access token and it is stored in local storage for future API calls. "))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-reference-authorization-index-md-eb61cba73dc5a83068b7.js.map